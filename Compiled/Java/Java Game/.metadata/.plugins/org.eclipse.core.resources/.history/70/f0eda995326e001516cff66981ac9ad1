package defence;

import java.awt.image.BufferedImage;
import java.io.File;
import java.io.IOException;

import javax.imageio.ImageIO;

public class SpriteSheet {
//	Basic Spritesheet creator
	public static BufferedImage[] spriteSheet(String file_name){
//		grabs the spritesheet
		BufferedImage bigImg = null;
		try {
			bigImg = ImageIO.read(new File(file_name));
		} catch (IOException e) {
			e.printStackTrace();
		}
	
//		create variables and an array to store the images
		final int width = 63;
		final int height = 63;
		final int rows = 4;
		final int cols = 8;
		BufferedImage[] sprites = new BufferedImage[rows * cols];
	

		for (int i = 0; i < rows; i++)
		{
		    for (int j = 0; j < cols; j++)
		    {
		        sprites[(i * cols) + j] = bigImg.getSubimage(
		            j * width,
		            i * height,
		            width,
		            height
		        );
		    }
		}
		
//		Returns the array
		return sprites;
	}
	
//	Overloaded version that is more practical
	public static BufferedImage[] spriteSheet(String file_name, 
			final int width, final int height, final int rows, final int cols){
		BufferedImage bigImg = null;
		try {
			bigImg = ImageIO.read(new File(file_name));
		} catch (IOException e) {
			e.printStackTrace();
		}

		BufferedImage[] sprites = new BufferedImage[rows * cols];
	
//		goes through each cell to get that subimage
		for (int i = 0; i < rows; i++)
		{
		    for (int j = 0; j < cols; j++)
		    {
		        sprites[(i * cols) + j] = bigImg.getSubimage(
		            j * width,
		            i * height,
		            width,
		            height
		        );
		    }
		}
		
		return sprites;
	}
}
